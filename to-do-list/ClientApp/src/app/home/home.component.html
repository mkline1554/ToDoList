



<div class="container">
  <h1 class="home-heading">To-Do List</h1>
  <div class="row items-container">
    <div class="col-3 menu">

      <!-- due dates -->
      <!-- upon clicking should reove all others that are not withing that due dat section -->
      <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="overdueItems.length > 0"
            [class.selected]="window == 0" (click)="onViewSpecificDueWindow(+$event.target.id)" id="0">
          Overdue
          <span class="badge badge-danger badge-pill">
            {{ overdueItems.length }}
          </span>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="todayItems.length > 0"
            [class.selected]="window == 1" (click)="onViewSpecificDueWindow(+$event.target.id)" id="1">
          Today
          <span class="badge badge-primary badge-pill">
            {{ todayItems.length }}
          </span>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="tomorrowItems.length > 0"
            [class.selected]="window == 2" (click)="onViewSpecificDueWindow(+$event.target.id)" id="2">
          Tomorrow
          <span class="badge badge-primary badge-pill">
            {{ tomorrowItems.length }}
          </span>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="thisWeekItems.length > 0"
            [class.selected]="window == 3" (click)="onViewSpecificDueWindow(+$event.target.id)" id="3">
          This Week
          <span class="badge badge-primary badge-pill">
            {{ thisWeekItems.length }}
          </span>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="nextWeekItems.length > 0"
            [class.selected]="window == 4" (click)="onViewSpecificDueWindow(+$event.target.id)" id="4">
          Next Week
          <span class="badge badge-primary badge-pill">
            {{ nextWeekItems.length }}
          </span>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="upcomingItems.length > 0"
            [class.selected]="window == 5" (click)="onViewSpecificDueWindow(+$event.target.id)" id="5">
          Upcoming
          <span class="badge badge-primary badge-pill">
            {{ upcomingItems.length }}
          </span>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="completedItems.length > 0" (click)="onViewCompleted()"
            [class.selected]="showCompleted">
          View Completed
          <span class="badge badge-success badge-pill">
            {{ completedItems.length }}
          </span>
        </li>

        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngIf="allItems.length > 0" (click)="onViewIncompleted()"
            [class.selected]="showIncomplete">
          View Incompleted
          <span class="badge badge-primary badge-pill">
            {{ incompleteItems.length }}
          </span>
        </li>
      </ul>

        <button type="button" class="btn btn-info btn-lg btn-block add-btn" (click)="openAddItemModal()">
          <i class="fa fa-plus"></i> Add New Item
        </button>

    </div>

    <div class="col-9 items-wrapper">
      <div class="container-fluid" style="margin-top: 5vh;">

        <h3 class="get-started" *ngIf="activeItems.length < 1;">
          Choose a menu item to get started or add a new to-do item
        </h3>

        <ul class="list-group">

          <li *ngFor="let item of activeItems;" class="list-group-item to-do-item">
            <h5 style="display: inline;" [class.overdue]="item.dueBy == 0">
              {{ item.title | slice : 0:30 }}
            </h5>
            -
            <p style="display:inline;">
              {{ item.description | slice : 0:60 }}
            </p>
            -
            <p style="display:inline;">
              {{ item.type }}
            </p>
            <i class="fa fa-trash manage text-muted" (click)="delete(item.id)"></i>
            <i class="fa fa-pencil manage text-muted" (click)="onEditClicked(item)" *ngIf="item.completed == null"></i>
            <i class="fa fa-check manage text-muted" (click)="complete(item)" *ngIf="item.completed == null"></i>
            <i class="fa fa-check manage complete" *ngIf="item.completed != null"></i>
          </li>
        </ul>

      </div>
    </div>

    <ngx-smart-modal #addListItemModal
                     [closable]="true"
                     [dismissable]="true"
                     identifier="addListItem">
      <add-list-item (listItemAdded)="setListItems($event)"></add-list-item>
    </ngx-smart-modal>

    <ngx-smart-modal #editListItemModal
                     [closable]="true"
                     [dismissable]="true"
                     identifier="editListItem">
      <edit-list-item [editItem]="editItem" (listItemEdited)="onRefresh($event)"></edit-list-item>
    </ngx-smart-modal>

  </div>
</div>

